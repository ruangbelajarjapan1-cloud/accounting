<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>RBMJ — Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/lucide-static@0.321.0/font/lucide.css" rel="stylesheet">
  <link rel="icon" href="favicon.ico">
  <style>
    .card{ border-radius:16px; background:#fff; box-shadow:0 6px 18px rgba(2,6,23,.08); padding:16px }
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
<div class="min-h-screen grid grid-cols-1 md:grid-cols-[260px_1fr]">
  <aside class="bg-white border-r hidden md:flex flex-col">
    <div class="p-4 flex items-center gap-3 border-b">
      <div class="w-10 h-10 bg-sky-500 rounded-xl"></div>
      <div>
        <div class="font-bold">RBMJ Admin</div>
        <div class="text-xs text-slate-500">Ruang Belajar Muslim Jepang</div>
      </div>
    </div>
    <nav class="p-2 space-y-1 text-sm">
      <button data-page="dashboard"  class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🏠 Dashboard</button>
      <button data-page="students"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">👨‍👩‍👧 Siswa</button>
      <button data-page="teachers"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">👩‍🏫 Guru</button>
      <button data-page="classes"    class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🏷️ Kelas</button>
      <button data-page="enrollments"class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🧩 Enrollments</button>
      <button data-page="attendance" class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🗓️ Absensi</button>
      <button data-page="payments"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">💳 Pembayaran</button>
      <button data-page="invoices"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🧾 Invoice & Kwitansi</button>
      <button data-page="mukafaah"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🕌 Mukafaah Guru</button>
      <button data-page="expenses"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">🧾 Pengeluaran</button>
      <button data-page="cashbook"   class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">📕 Buku Kas</button>
      <button data-page="reports"    class="nav w-full text-left px-3 py-2 rounded-lg hover:bg-slate-100">📊 Rekapan</button>
    </nav>
  </aside>

  <main class="p-3 md:p-6">
    <!-- Dashboard -->
    <section id="page-dashboard" class="page">
      <div class="grid md:grid-cols-3 gap-3">
        <div class="card"><div class="text-sm text-slate-500">Total Siswa</div><div id="stat-students" class="text-3xl font-bold">–</div></div>
        <div class="card"><div class="text-sm text-slate-500">Total Kelas</div><div id="stat-classes" class="text-3xl font-bold">–</div></div>
        <div class="card"><div class="text-sm text-slate-500">Pembayaran bulan ini</div><div id="stat-payments" class="text-3xl font-bold">–</div></div>
      </div>
    </section>

    <!-- Siswa -->
    <section id="page-students" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Siswa</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openStudentForm()">Tambah</button>
        </div>
        <input id="search-students" placeholder="Cari nama/orang tua..." class="w-full mb-2 border rounded-lg px-3 py-2">
        <div id="students-table" class="overflow-auto"></div>
      </div>
    </section>

    <!-- Guru -->
    <section id="page-teachers" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Guru</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openTeacherForm()">Tambah</button>
        </div>
        <div id="teachers-table"></div>
      </div>
    </section>

    <!-- Kelas -->
    <section id="page-classes" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Kelas</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openClassForm()">Tambah</button>
        </div>
        <div id="classes-table"></div>
      </div>
    </section>

    <!-- Enrollments -->
    <section id="page-enrollments" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Enrollments</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openEnrollForm()">Tambah</button>
        </div>
        <div id="enrollments-table"></div>
      </div>
    </section>

    <!-- Absensi -->
    <section id="page-attendance" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Absensi</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openAttendanceForm()">Input</button>
        </div>
        <div id="attendance-table"></div>
      </div>
    </section>

    <!-- Pembayaran -->
    <section id="page-payments" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Pembayaran SPP</h2>
          <div class="flex gap-2">
            <input id="pay-month" type="month" class="border rounded-lg px-3 py-2">
            <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openPaymentForm()">Bayar</button>
          </div>
        </div>
        <div id="payments-table"></div>
      </div>
    </section>

    <!-- Invoice -->
    <section id="page-invoices" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Invoice & Kwitansi</h2>
          <div class="flex gap-2">
            <input id="inv-month" type="month" class="border rounded-lg px-3 py-2">
            <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="generateInvoices()">Generate Invoice Bulanan</button>
          </div>
        </div>
        <div id="invoices-table"></div>
      </div>
    </section>

    <!-- Mukafaah -->
    <section id="page-mukafaah" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Mukafaah Guru (70%)</h2>
          <div class="flex gap-2">
            <input id="muka-month" type="month" class="border rounded-lg px-3 py-2">
            <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="loadMukafaah()">Hitung</button>
          </div>
        </div>
        <div id="mukafaah-table"></div>
      </div>
    </section>

    <!-- Pengeluaran -->
    <section id="page-expenses" class="page hidden">
      <div class="card">
        <div class="flex items-center justify-between mb-2">
          <h2 class="font-semibold">Pengeluaran</h2>
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="openExpenseForm()">Tambah</button>
        </div>
        <div id="expenses-table"></div>
      </div>
    </section>

    <!-- Kas -->
    <section id="page-cashbook" class="page hidden">
      <div class="card">
        <h2 class="font-semibold mb-2">Buku Kas Bulanan</h2>
        <div class="flex gap-2 mb-2">
          <input id="cash-month" type="month" class="border rounded-lg px-3 py-2">
          <button class="px-3 py-1.5 rounded-lg bg-sky-600 text-white" onclick="loadCashbook()">Muat</button>
        </div>
        <div id="cashbook-table"></div>
      </div>
    </section>

    <!-- Rekapan -->
    <section id="page-reports" class="page hidden">
      <div class="card">
        <h2 class="font-semibold mb-2">Rekapan</h2>
        <div id="reports-area"></div>
      </div>
    </section>
  </main>
</div>

<script src="./app.js"></script>
</body>
</html>
